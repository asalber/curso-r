<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Capítulo 5 Funciones | Curso básico de análisis de datos con R</title>
<meta name="author" content="Alfredo Sánchez Alberca">
<meta name="description" content="Una función es un bloque de código que tiene asociado un nombre, de manera que cada vez que se quiera ejecutar el bloque de código basta con invocar el nombre de la función. Las funciones permite...">
<meta name="generator" content="bookdown 0.24.4 with bs4_book()">
<meta property="og:title" content="Capítulo 5 Funciones | Curso básico de análisis de datos con R">
<meta property="og:type" content="book">
<meta property="og:url" content="https://aprendeconalf.es/funciones.html">
<meta property="og:description" content="Una función es un bloque de código que tiene asociado un nombre, de manera que cada vez que se quiera ejecutar el bloque de código basta con invocar el nombre de la función. Las funciones permite...">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Capítulo 5 Funciones | Curso básico de análisis de datos con R">
<meta name="twitter:description" content="Una función es un bloque de código que tiene asociado un nombre, de manera que cada vez que se quiera ejecutar el bloque de código basta con invocar el nombre de la función. Las funciones permite...">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/header-attrs-2.11/header-attrs.js"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.3.1/transition.js"></script><script src="libs/bs3compat-0.3.1/tabs.js"></script><script src="libs/bs3compat-0.3.1/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><link rel="stylesheet" href="bs4_style.css">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">Curso básico de análisis de datos con R</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">Prefacio</a></li>
<li><a class="" href="introducci%C3%B3n-a-r.html"><span class="header-section-number">1</span> Introducción a R</a></li>
<li><a class="" href="tipos-de-datos-simples.html"><span class="header-section-number">2</span> Tipos de datos simples</a></li>
<li><a class="" href="tipos-de-datos-estructurados.html"><span class="header-section-number">3</span> Tipos de datos estructurados</a></li>
<li><a class="" href="estructuras-de-control.html"><span class="header-section-number">4</span> Estructuras de control</a></li>
<li><a class="active" href="funciones.html"><span class="header-section-number">5</span> Funciones</a></li>
<li><a class="" href="preprocesamiento-de-datos.html"><span class="header-section-number">6</span> Preprocesamiento de datos</a></li>
<li><a class="" href="gr%C3%A1ficos-y-visualizaci%C3%B3n-de-datos.html"><span class="header-section-number">7</span> Gráficos y visualización de datos</a></li>
<li><a class="" href="estad%C3%ADstica-descriptiva.html"><span class="header-section-number">8</span> Estadística descriptiva</a></li>
<li><a class="" href="estimaci%C3%B3n-de-par%C3%A1metros-y-contrastes-de-hip%C3%B3tesis-de-variables-cuantitativas.html"><span class="header-section-number">9</span> Estimación de parámetros y contrastes de hipótesis de variables cuantitativas</a></li>
<li><a class="" href="estimaci%C3%B3n-de-par%C3%A1metros-y-contrastes-de-hip%C3%B3tesis-de-variables-cualitativas.html"><span class="header-section-number">10</span> Estimación de parámetros y contrastes de hipótesis de variables cualitativas</a></li>
<li><a class="" href="an%C3%A1lisis-de-regresi%C3%B3n-simple.html"><span class="header-section-number">11</span> Análisis de regresión simple</a></li>
</ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://github.com/asalber/manual-r">View book source <i class="fab fa-github"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="funciones" class="section level1" number="5">
<h1>
<span class="header-section-number">Capítulo 5</span> Funciones<a class="anchor" aria-label="anchor" href="#funciones"><i class="fas fa-link"></i></a>
</h1>
<p>Una función es un bloque de código que tiene asociado un nombre, de manera que cada vez que se quiera ejecutar el bloque de código basta con invocar el nombre de la función. Las funciones permite dividir el código en unidades lógicas que resultan más fáciles de manejar y mantener.</p>
<p>En R las funciones son objetos en sí mimas y pueden usarse como cualquier otro dato. El tipo de dato de las funciones es <code>function</code>.</p>
<div id="definición-y-llamada-a-funciones" class="section level2" number="5.1">
<h2>
<span class="header-section-number">5.1</span> Definición y llamada a funciones<a class="anchor" aria-label="anchor" href="#definici%C3%B3n-y-llamada-a-funciones"><i class="fas fa-link"></i></a>
</h2>
<p>Para definir una función se utiliza la siguiente estructura de código:</p>
<pre><code>nombre.funcion &lt;- function (parámetros) {
  código
}</code></pre>
<p>El código que va entre llaves se conoce como <em>cuerpo de la función</em>.</p>
<p>Para llamar a la función y que se ejecute el código de su cuerpo hay que utilizar el nombre de la función y a continuación los valores pasados a sus parámetros entre paréntesis.</p>
<div class="example">
<p><span id="exm:unlabeled-div-64" class="example"><strong>Ejemplo 5.1  </strong></span>A continuación se muestra un ejemplo de creación y llamada a una función.</p>
<div class="sourceCode" id="cb65"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Definición de la función</span>
<span class="va">saludo</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="op">)</span> <span class="op">{</span>
  <span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="st">"¡Hola!"</span><span class="op">)</span>
<span class="op">}</span>
<span class="fu"><a href="https://rdrr.io/r/base/class.html">class</a></span><span class="op">(</span><span class="va">saludo</span><span class="op">)</span>
<span class="co">#&gt; [1] "function"</span>
<span class="co"># Llamada a la función</span>
<span class="fu">saludo</span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; [1] "¡Hola!"</span></code></pre></div>
</div>
</div>
<div id="parámetros-y-argumentos-de-una-función" class="section level2" number="5.2">
<h2>
<span class="header-section-number">5.2</span> Parámetros y argumentos de una función<a class="anchor" aria-label="anchor" href="#par%C3%A1metros-y-argumentos-de-una-funci%C3%B3n"><i class="fas fa-link"></i></a>
</h2>
<p>Una función puede recibir valores cuando se invoca a través de unas variables conocidas como <em>parámetros</em> que se definen entre paréntesis en la declaración de la función. En el cuerpo de la función se pueden usar estos parámetros como si fuesen variables.</p>
<p>Los valores que se pasan a la función en una llamada o invocación concreta de ella se conocen como <em>argumentos</em> y se asocian a los parámetros de la declaración de la función.</p>
<div class="example">
<p><span id="exm:unlabeled-div-65" class="example"><strong>Ejemplo 5.2  </strong></span>A continuación se muestra un ejemplo de una función con parámetros.</p>
<div class="sourceCode" id="cb66"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Función con un parámetro</span>
<span class="va">saludo</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">nombre</span><span class="op">)</span> <span class="op">{</span>
  <span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste</a></span><span class="op">(</span><span class="st">"¡Hola "</span>, <span class="va">nombre</span>, <span class="st">"!"</span>, sep <span class="op">=</span> <span class="st">""</span><span class="op">)</span><span class="op">)</span>
<span class="op">}</span>
<span class="co"># Llamada a la función con un argumento</span>
<span class="fu">saludo</span><span class="op">(</span><span class="st">"Alf"</span><span class="op">)</span>
<span class="co">#&gt; [1] "¡Hola Alf!"</span></code></pre></div>
<p>En este ejemplo la función <code>saludo</code> tiene un parámetro <code>nombre</code>. En la llamada a la función se pasa la cadena <code>Alf</code> como argumento que se asocia al parámetro <code>nombre</code> en el cuerpo de la función.</p>
</div>
<div id="paso-de-argumentos-a-una-función" class="section level3" number="5.2.1">
<h3>
<span class="header-section-number">5.2.1</span> Paso de argumentos a una función<a class="anchor" aria-label="anchor" href="#paso-de-argumentos-a-una-funci%C3%B3n"><i class="fas fa-link"></i></a>
</h3>
<p>Los argumentos de una función pueden pasarse de dos formas:</p>
<ul>
<li>
<strong>Argumentos posicionales</strong>: Se asocian a los parámetros de la función en el mismo orden que aparecen en la definición de la función.</li>
<li>
<strong>Argumentos nominales</strong>: Se indica explícitamente el nombre del parámetro al que se asocia un argumento de la forma <code>parametro = argumento</code>. En este caso el orden de los argumentos no importa.</li>
</ul>
<div class="example">
<p><span id="exm:unlabeled-div-66" class="example"><strong>Ejemplo 5.3  </strong></span>A continuación se muestran varios ejemplos de pasos de argumentos posicionales y nominales.</p>
<div class="sourceCode" id="cb67"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Función con un argumento por defecto</span>
<span class="va">area.triangulo</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">base</span>, <span class="va">altura</span><span class="op">)</span> <span class="op">{</span>
  <span class="va">base</span> <span class="op">*</span> <span class="va">altura</span> <span class="op">/</span> <span class="fl">2</span>
<span class="op">}</span>
<span class="co"># Cálculo del área de un triángulo de base 4 y altura 3</span>
<span class="co"># Paso de argumentos por posición. </span>
<span class="fu">area.triangulo</span><span class="op">(</span><span class="fl">4</span>, <span class="fl">3</span><span class="op">)</span>
<span class="co">#&gt; [1] 6</span>
<span class="co"># Paso de argumentos por nombre</span>
<span class="fu">area.triangulo</span><span class="op">(</span>altura <span class="op">=</span> <span class="fl">3</span>, base <span class="op">=</span> <span class="fl">4</span><span class="op">)</span>
<span class="co">#&gt; [1] 6</span></code></pre></div>
</div>
</div>
<div id="argumentos-por-defecto" class="section level3" number="5.2.2">
<h3>
<span class="header-section-number">5.2.2</span> Argumentos por defecto<a class="anchor" aria-label="anchor" href="#argumentos-por-defecto"><i class="fas fa-link"></i></a>
</h3>
<p>En la definición de una función se puede asignar a cada parámetro un argumento por defecto, de manera que si se invoca la función sin proporcionar ningún argumento para ese parámetro, se utiliza el argumento por defecto.</p>
<div class="example">
<p><span id="exm:unlabeled-div-67" class="example"><strong>Ejemplo 5.4  </strong></span>A continuación se muestra un ejemplo de definición de una función con un argumento por defecto.</p>
<div class="sourceCode" id="cb68"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">saludo</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">nombre</span>, <span class="va">lenguaje</span> <span class="op">=</span> <span class="st">"R"</span><span class="op">)</span> <span class="op">{</span>
  <span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste</a></span><span class="op">(</span><span class="st">"¡Hola "</span>, <span class="va">nombre</span>, <span class="st">"! ¡Bienvenido a "</span>, <span class="va">lenguaje</span>, <span class="st">"!"</span>, sep <span class="op">=</span> <span class="st">""</span><span class="op">)</span><span class="op">)</span>
<span class="op">}</span>
<span class="co"># Llamada a la función con un argumento</span>
<span class="fu">saludo</span><span class="op">(</span><span class="st">"Alf"</span><span class="op">)</span>
<span class="co">#&gt; [1] "¡Hola Alf! ¡Bienvenido a R!"</span></code></pre></div>
</div>
</div>
</div>
<div id="retorno-de-una-función" class="section level2" number="5.3">
<h2>
<span class="header-section-number">5.3</span> Retorno de una función<a class="anchor" aria-label="anchor" href="#retorno-de-una-funci%C3%B3n"><i class="fas fa-link"></i></a>
</h2>
<p>Una función puede devolver un objeto de cualquier tipo tras su invocación. Para ello se utiliza la función <code><a href="https://rdrr.io/r/base/function.html">return()</a></code>, indicando entre paréntesis el valor que devuelve la función. El retorno suele realizarse al final del cuerpo de la función, porque con él finaliza la ejecución de la función y se devuelve el control de la ejecución al punto desde donde se llamó a la función, de manera que cualquier instrucción de cuerpo que vaya después no se ejecutará. Si no se indica ningún objeto, la función devolverá el valor de la última expresión calculada en el cuerpo de la función.</p>
<div class="example">
<p><span id="exm:unlabeled-div-68" class="example"><strong>Ejemplo 5.5  </strong></span>A continuación se muestran varios ejemplos de retornos de funciones.</p>
<div class="sourceCode" id="cb69"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Función que devuelve el area de un triángulo</span>
<span class="va">area.triangulo</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">base</span>, <span class="va">altura</span><span class="op">)</span> <span class="op">{</span>
  <span class="kw"><a href="https://rdrr.io/r/base/function.html">return</a></span><span class="op">(</span><span class="va">base</span> <span class="op">*</span> <span class="va">altura</span> <span class="op">/</span> <span class="fl">2</span><span class="op">)</span>
<span class="op">}</span>
<span class="fu">area.triangulo</span><span class="op">(</span><span class="fl">4</span>, <span class="fl">3</span><span class="op">)</span>
<span class="co">#&gt; [1] 6</span>
<span class="co"># Función que devuelve el valor absoluto de un número</span>
<span class="va">valor.absoluto</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">{</span>
  <span class="kw">if</span> <span class="op">(</span><span class="va">x</span> <span class="op">&lt;</span> <span class="fl">0</span><span class="op">)</span>
    <span class="kw"><a href="https://rdrr.io/r/base/function.html">return</a></span><span class="op">(</span><span class="va">x</span> <span class="op">*</span> <span class="op">-</span><span class="fl">1</span><span class="op">)</span>
  <span class="kw">else</span>
    <span class="kw"><a href="https://rdrr.io/r/base/function.html">return</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>
<span class="op">}</span>
<span class="fu">valor.absoluto</span><span class="op">(</span><span class="op">-</span><span class="fl">1</span><span class="op">)</span>
<span class="co">#&gt; [1] 1</span>
<span class="fu">valor.absoluto</span><span class="op">(</span><span class="fl">2</span><span class="op">)</span>
<span class="co">#&gt; [1] 2</span></code></pre></div>
</div>
<p>Para devolver más de un valor se pueden utilizar estructuras de datos como vectores, listas, matrices o data frames.</p>
<div class="example">
<p><span id="exm:unlabeled-div-69" class="example"><strong>Ejemplo 5.6  </strong></span>A continuación se muestra un ejemplo de una función de devuelve una lista.</p>
<div class="sourceCode" id="cb70"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">circulo</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">radio</span><span class="op">)</span> <span class="op">{</span>
  <span class="kw"><a href="https://rdrr.io/r/base/function.html">return</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>perimetro <span class="op">=</span> <span class="fl">2</span> <span class="op">*</span> <span class="va">pi</span> <span class="op">*</span> <span class="va">radio</span>, area <span class="op">=</span> <span class="va">pi</span> <span class="op">*</span> <span class="va">radio</span> <span class="op">^</span> <span class="fl">2</span><span class="op">)</span><span class="op">)</span>
<span class="op">}</span>
<span class="fu">circulo</span><span class="op">(</span><span class="fl">5</span><span class="op">)</span>
<span class="co">#&gt; $perimetro</span>
<span class="co">#&gt; [1] 31.41593</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $area</span>
<span class="co">#&gt; [1] 78.53982</span>
<span class="fu">circulo</span><span class="op">(</span><span class="fl">5</span><span class="op">)</span><span class="op">$</span><span class="va">perimetro</span>
<span class="co">#&gt; [1] 31.41593</span>
<span class="fu">circulo</span><span class="op">(</span><span class="fl">5</span><span class="op">)</span><span class="op">$</span><span class="va">area</span>
<span class="co">#&gt; [1] 78.53982</span></code></pre></div>
</div>
</div>
<div id="entorno-y-ámbito-de-las-variables" class="section level2" number="5.4">
<h2>
<span class="header-section-number">5.4</span> Entorno y ámbito de las variables<a class="anchor" aria-label="anchor" href="#entorno-y-%C3%A1mbito-de-las-variables"><i class="fas fa-link"></i></a>
</h2>
<p>El entorno de un programa en R es el conjunto de todos los objetos (funciones, variables, etc.) creados durante la ejecución del programa. Cuando se ejecuta el interprete de R siempre se crea un primer entorno <code>R_GlobalEnv</code> conocido como entorno global. Es posible referirse a él en cualquier momento con la constante <code>.GlobalEnv</code>.</p>
<p>Para ver el entorno activo en cada momento de la ejecución y el contenido del mismo se utiliza la siguiente función:</p>
<ul>
<li>
<code><a href="https://rdrr.io/r/base/environment.html">environment()</a></code>: Devuelve el nombre del entorno actual.</li>
<li>
<code><a href="https://rdrr.io/r/base/ls.html">ls()</a></code>: Devuelve un vector con los nombres de las objetos (variables, funciones, etc.) que contiene el entorno global.</li>
</ul>
<div class="example">
<p><span id="exm:unlabeled-div-70" class="example"><strong>Ejemplo 5.7  </strong></span>A continuación se muestra un ejemplo acceso al entorno global de un programa.</p>
<div class="sourceCode" id="cb71"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">x</span> <span class="op">&lt;-</span> <span class="fl">4</span>
<span class="va">y</span> <span class="op">&lt;-</span> <span class="fl">3</span>
<span class="va">area.triangulo</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">base</span>, <span class="va">altura</span><span class="op">)</span> <span class="op">{</span>
  <span class="va">base</span> <span class="op">*</span> <span class="va">altura</span> <span class="op">/</span> <span class="fl">2</span>
<span class="op">}</span>
<span class="fu"><a href="https://rdrr.io/r/base/environment.html">environment</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; &lt;environment: R_GlobalEnv&gt;</span>
<span class="fu"><a href="https://rdrr.io/r/base/ls.html">ls</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; [1] "area.triangulo" "x"              "y"</span></code></pre></div>
</div>
<p>Como se puede observar en el ejemplo anterior, los parámetros de la función <code>base</code> y <code>altura</code> no aparecen en el entorno global. En R, cuando se ejecuta una función se crea un nuevo entorno hijo dentro del entorno al que pertenece la función. Durante la ejecución de la función este pasa a ser el entorno activo y cuando termina la ejecución de la función deja de serlo y vuelve a activarse el entorno padre desde donde se llamó a la función.</p>
<div class="example">
<p><span id="exm:unlabeled-div-71" class="example"><strong>Ejemplo 5.8  </strong></span>A continuación se muestra un ejemplo de activación del entorno de una función.</p>
<div class="sourceCode" id="cb72"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">x</span> <span class="op">&lt;-</span> <span class="fl">4</span>
<span class="va">y</span> <span class="op">&lt;-</span> <span class="fl">3</span>
<span class="va">area.triangulo</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">base</span>, <span class="va">altura</span><span class="op">)</span> <span class="op">{</span>
  <span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="st">"Entorno de la función area.triangulo"</span><span class="op">)</span> 
  <span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/environment.html">environment</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span>
  <span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/ls.html">ls</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span>
  <span class="kw"><a href="https://rdrr.io/r/base/function.html">return</a></span><span class="op">(</span><span class="va">base</span> <span class="op">*</span> <span class="va">altura</span> <span class="op">/</span> <span class="fl">2</span><span class="op">)</span>
<span class="op">}</span>
<span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="st">"Entorno fuera de la función"</span><span class="op">)</span>
<span class="co">#&gt; [1] "Entorno fuera de la función"</span>
<span class="fu"><a href="https://rdrr.io/r/base/environment.html">environment</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; &lt;environment: R_GlobalEnv&gt;</span>
<span class="fu"><a href="https://rdrr.io/r/base/ls.html">ls</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; [1] "area.triangulo" "x"              "y"</span>
<span class="fu">area.triangulo</span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span><span class="op">)</span>
<span class="co">#&gt; [1] "Entorno de la función area.triangulo"</span>
<span class="co">#&gt; &lt;environment: 0x55a064a9d108&gt;</span>
<span class="co">#&gt; [1] "altura" "base"</span>
<span class="co">#&gt; [1] 6</span></code></pre></div>
</div>
<p>Los parámetros y los objetos (funciones, variables, etc.) definidos dentro de una función son de <em>ámbito local</em>, mientras que los objetos definidos fuera de ella en alguno de los entornos ancestros son de <em>ámbito global</em>.</p>
<p>Tanto los parámetros como las variables del ámbito local de una función sólo están accesibles durante la ejecución de la función, es decir, cuando termina la ejecución de la función estas variables desaparecen y no son accesibles desde fuera de la función.</p>
<p>Cuando una función declara un objeto (función, variable, etc.) que ya existe en alguno de los entornos ancestros con ámbito global, durante la ejecución de la función el objeto global queda eclipsado por el local y no es accesible hasta que finaliza la ejecución de la función.</p>
<div class="example">
<p><span id="exm:unlabeled-div-72" class="example"><strong>Ejemplo 5.9  </strong></span>A continuación se muestra un ejemplo de eclipse de una variable de ámbito global por otra de ámbito local.</p>
<div class="sourceCode" id="cb73"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">lenguaje</span> <span class="op">=</span> <span class="st">"Python"</span>
<span class="va">saludo</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">lenguaje</span><span class="op">)</span> <span class="op">{</span>
  <span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste</a></span><span class="op">(</span><span class="st">"Bienvenido a"</span>, <span class="va">lenguaje</span><span class="op">)</span><span class="op">)</span>  
<span class="op">}</span>
<span class="fu">saludo</span><span class="op">(</span><span class="st">"R"</span><span class="op">)</span>
<span class="co">#&gt; [1] "Bienvenido a R"</span></code></pre></div>
<p>Obsérvese cómo al ejecutar la función anterior, la variable <code>lenguaje</code> queda inaccesible al tener la función un parámetro con el mismo nombre.</p>
</div>
<p>Las variables globales están accesibles siempre que no sean eclipsadas por otras con el mismo nombre de ámbito local. Si embargo, cuando se intenta asignar un valor a una variable global en el ámbito local, se crea una nueva variable local. Para asignar valores a variables globales en el ámbito local se tiene que utilizar el operador de superasignación <code>&lt;&lt;-</code>. Cuando se utiliza este operador para asignar un valor a una variable, R busca la variable entorno padre, y si no existe continua con la búsqueda en los entornos ancestros hasta llegar a entorno global. Si la búsqueda tiene éxito, asigna el nuevo valor a la variable global, mientras que si no tiene éxito se crea una nueva variable de ámbito local y se le asigna el valor.</p>
<div class="example">
<p><span id="exm:unlabeled-div-73" class="example"><strong>Ejemplo 5.10  </strong></span>A continuación se muestra un ejemplo del uso del operador de superasignación.</p>
<div class="sourceCode" id="cb74"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">saludo</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="op">)</span> <span class="op">{</span>
  <span class="va">lenguaje</span> <span class="op">&lt;&lt;-</span> <span class="st">"R"</span>
  <span class="kw"><a href="https://rdrr.io/r/base/function.html">return</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste</a></span><span class="op">(</span><span class="st">"Bienvenido a"</span>, <span class="va">lenguaje</span><span class="op">)</span><span class="op">)</span>
<span class="op">}</span>
<span class="va">lenguaje</span>
<span class="co">#&gt; [1] "Python"</span></code></pre></div>
</div>
</div>
<div id="componentes-de-una-función" class="section level2" number="5.5">
<h2>
<span class="header-section-number">5.5</span> Componentes de una función<a class="anchor" aria-label="anchor" href="#componentes-de-una-funci%C3%B3n"><i class="fas fa-link"></i></a>
</h2>
<p>Los tres componentes de una función son:</p>
<ul>
<li>
<strong>Cuerpo</strong>: Es el código dentro de la función.</li>
<li>
<strong>Parámetros</strong>: Es la lista de parámetros que requiere la función.</li>
<li>
<strong>Entorno</strong>: Es donde se ubican las variables de la función.</li>
</ul>
<p>Para acceder a estos componentes se pueden utilizar las siguientes funciones:</p>
<ul>
<li>
<code>body(f)</code>: Devuelve el cuerpo de la función <code>f</code>.</li>
<li>
<code>formals(f)</code>: Devuelve la lista de parámetros de la función <code>f</code>.</li>
<li>
<code>environment(f)</code>: Devuelve el entorno de la función <code>f</code>.</li>
</ul>
<div class="example">
<p><span id="exm:unlabeled-div-74" class="example"><strong>Ejemplo 5.11  </strong></span>A continuación se muestra un ejemplo de acceso a los componentes de una función.</p>
<div class="sourceCode" id="cb75"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Definición de la función</span>
<span class="va">area.triangulo</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">base</span>, <span class="va">altura</span><span class="op">)</span> <span class="op">{</span>
  <span class="va">base</span> <span class="op">*</span> <span class="va">altura</span> <span class="op">/</span> <span class="fl">2</span>
<span class="op">}</span>
<span class="fu"><a href="https://rdrr.io/r/base/body.html">body</a></span><span class="op">(</span><span class="va">area.triangulo</span><span class="op">)</span>
<span class="co">#&gt; {</span>
<span class="co">#&gt;     base * altura/2</span>
<span class="co">#&gt; }</span>
<span class="fu"><a href="https://rdrr.io/r/base/formals.html">formals</a></span><span class="op">(</span><span class="va">area.triangulo</span><span class="op">)</span>
<span class="co">#&gt; $base</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $altura</span>
<span class="fu"><a href="https://rdrr.io/r/base/environment.html">environment</a></span><span class="op">(</span><span class="va">saludo</span><span class="op">)</span>
<span class="co">#&gt; &lt;environment: R_GlobalEnv&gt;</span></code></pre></div>
</div>
</div>
<div id="funciones-recursivas" class="section level2" number="5.6">
<h2>
<span class="header-section-number">5.6</span> Funciones recursivas<a class="anchor" aria-label="anchor" href="#funciones-recursivas"><i class="fas fa-link"></i></a>
</h2>
<p>Una función recursiva es una función que en su cuerpo contiene una llama a sí misma.</p>
<p>La recursión es una práctica común en la mayoría de los lenguajes de programación ya que permite resolver las tareas recursivas de manera más natural.</p>
<p>Para garantizar el final de una función recursiva, las sucesivas llamadas tienen que reducir el grado de complejidad del problema, hasta que este pueda resolverse directamente sin necesidad de volver a llamar a la función. De lo contrario la recursión no tendría fin y nunca terminaría la ejecución de la función.</p>
<div class="example">
<p><span id="exm:unlabeled-div-75" class="example"><strong>Ejemplo 5.12  </strong></span>A continuación se muestra un ejemplo de una función recursiva.</p>
<div class="sourceCode" id="cb76"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">factorial</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">n</span><span class="op">)</span> <span class="op">{</span>
  <span class="kw">if</span> <span class="op">(</span><span class="va">n</span> <span class="op">&lt;=</span> <span class="fl">1</span><span class="op">)</span> <span class="kw"><a href="https://rdrr.io/r/base/function.html">return</a></span><span class="op">(</span><span class="va">n</span><span class="op">)</span>
  <span class="kw">else</span> <span class="kw"><a href="https://rdrr.io/r/base/function.html">return</a></span><span class="op">(</span><span class="va">n</span> <span class="op">*</span> <span class="fu"><a href="https://rdrr.io/r/base/Special.html">factorial</a></span><span class="op">(</span><span class="va">n</span> <span class="op">-</span> <span class="fl">1</span><span class="op">)</span><span class="op">)</span>
<span class="op">}</span>
<span class="fu"><a href="https://rdrr.io/r/base/Special.html">factorial</a></span><span class="op">(</span><span class="fl">4</span><span class="op">)</span>
<span class="co">#&gt; [1] 24</span></code></pre></div>
</div>
</div>
<div id="paquetes" class="section level2" number="5.7">
<h2>
<span class="header-section-number">5.7</span> Paquetes<a class="anchor" aria-label="anchor" href="#paquetes"><i class="fas fa-link"></i></a>
</h2>
<p>Para facilitar la reutilización código y datos R permite la creación de paquetes que pueden importarse desde otros programas. Un paquete es una colección de código, funciones y datos que se almacenan en un fichero dentro de un directorio llamado <code>library</code> en el entorno de R. Para ver la ubicación de este directorio dentro del sistema de archivos local se puede utilizar la función <code><a href="https://rdrr.io/r/base/libPaths.html">.libPaths()</a></code>.</p>
<div class="exmple">
<p>A continuación se muestra un ejemplo de la ubicación del directorio <code>library</code>.</p>
<div class="sourceCode" id="cb77"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/libPaths.html">.libPaths</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; [1] "/home/alf/R/x86_64-pc-linux-gnu-library/4.1"</span>
<span class="co">#&gt; [2] "/usr/lib/R/library"</span></code></pre></div>
</div>
<p>Durante la instalación de R también se instalan varios paquetes básicos que están disponibles en cualquier sesión de trabajo con R. Pero añadir nuevas funciones o procedimientos es necesario instalar el paquete que los contiene y después cargarlo en la sesión de trabajo.</p>
<p>Para ver los paquetes instalados en un ordenador se utiliza la función <code><a href="https://rdrr.io/r/base/library.html">library()</a></code>.</p>
<div id="instalación-de-paquetes" class="section level3" number="5.7.1">
<h3>
<span class="header-section-number">5.7.1</span> Instalación de paquetes<a class="anchor" aria-label="anchor" href="#instalaci%C3%B3n-de-paquetes"><i class="fas fa-link"></i></a>
</h3>
<p>La mayor parte de los paquetes para R están disponibles en el repositorio oficial <a href="Comprehensive%20R%20Archive%20Network">CRAN</a> (Comprehensive R Archive Network), aunque cualquier persona puede desarrollar un paquete y ponerlo a disposición de la comunidad en cualquier otro repositorio.</p>
<p>Existen distintas formas de instalar un paquete en R:</p>
<ul>
<li>Directamente desde el repositorio oficial CRAN</li>
<li>Desde otros repositorios no oficiales (por ejemplo Github)</li>
<li>Descargando el paquete e instalándolo manualmente.</li>
</ul>
<div id="instalación-de-paquetes-desde-el-repositorio-cran" class="section level4" number="5.7.1.1">
<h4>
<span class="header-section-number">5.7.1.1</span> Instalación de paquetes desde el repositorio CRAN<a class="anchor" aria-label="anchor" href="#instalaci%C3%B3n-de-paquetes-desde-el-repositorio-cran"><i class="fas fa-link"></i></a>
</h4>
<p>Para instalar un paquete desde el repositorio oficial CRAN se utiliza la siguiente función:</p>
<ul>
<li>
<code>install.packages(x)</code>: Obtiene el paquete con el nombre <code>x</code> desde un servidor con el repositorio CRAN y lo instala localmente en el directorio <code>library</code> del entorno de R. Se puede instalar más de un paquete a la vez pasando un vector con los nombres de los paquetes.</li>
</ul>
<div class="exmple">
<p>A continuación se muestra un ejemplo de instalación de paquetes desde el repositorio CRAN.</p>
<div class="sourceCode" id="cb78"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span><span class="op">(</span><span class="st">"devtools"</span><span class="op">)</span></code></pre></div>
</div>
</div>
<div id="instalación-desde-otros-repositorios-github-gitlab-etc." class="section level4" number="5.7.1.2">
<h4>
<span class="header-section-number">5.7.1.2</span> Instalación desde otros repositorios (GitHub, GitLab, etc.)<a class="anchor" aria-label="anchor" href="#instalaci%C3%B3n-desde-otros-repositorios-github-gitlab-etc."><i class="fas fa-link"></i></a>
</h4>
<p>El paquete <code>remotes</code> incorpora funciones para instalar paquetes alojados en otros repositorios habituales para el desarrollo de software como <a href="https://github.com/">GitHub</a>, <a href="httpsb://gitlab.com/">GitLab</a> o <a href="https://www.bioconductor.org/">Bioconductor</a>.</p>
<div class="exmple">
<p>A continuación se muestra un ejemplo de instalación de paquetes desde GitHub.</p>
<div class="sourceCode" id="cb79"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span><span class="op">(</span><span class="st">"remotes"</span><span class="op">)</span>
<span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html">install_github</a></span><span class="op">(</span><span class="st">"rkward-community/rk.Teaching"</span><span class="op">)</span></code></pre></div>
</div>
</div>
<div id="instalación-manual" class="section level4" number="5.7.1.3">
<h4>
<span class="header-section-number">5.7.1.3</span> Instalación manual<a class="anchor" aria-label="anchor" href="#instalaci%C3%B3n-manual"><i class="fas fa-link"></i></a>
</h4>
<p>Finalmente es posible instalar un paquete manualmente a partir de su código fuente. Para ello hay previamente hay que descargar el código fuente del paquete en un fichero comprimido en formato zip y después utilizar la siguiente función:</p>
<ul>
<li>
<code>ìnstall.packages(x, repos = NULL, type = "source")</code>: Instala el paquete ubicado en la ruta <code>x</code> del sistema de archivos local en la librería <code>library</code>.</li>
</ul>
<p>Una vez instalado un paquete ya está disponible para cargarlo en cualquier sesión de trabajo de R y no es necesario volver a instalarlo.</p>
</div>
</div>
<div id="carga-de-un-paquete" class="section level3" number="5.7.2">
<h3>
<span class="header-section-number">5.7.2</span> Carga de un paquete<a class="anchor" aria-label="anchor" href="#carga-de-un-paquete"><i class="fas fa-link"></i></a>
</h3>
<p>Una vez instalado un paquete, para poder ejecutar su contenido es necesario cargarlo en el entorno de trabajo de R. Para ello se utiliza la siguiente función:</p>
<ul>
<li>
<code><a href="https://rdrr.io/r/base/library.html">library(x)</a></code>: Ejecuta el código del paquete <code>x</code> en la sesión de trabajo activa.</li>
</ul>
<div class="exmple">
<p>A continuación se muestra un ejemplo de carga de un paquete.</p>
<div class="sourceCode" id="cb80"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="st"><a href="https://remotes.r-lib.org">"remotes"</a></span><span class="op">)</span></code></pre></div>
</div>
</div>
<div id="paquetes-habituales" class="section level3" number="5.7.3">
<h3>
<span class="header-section-number">5.7.3</span> Paquetes habituales<a class="anchor" aria-label="anchor" href="#paquetes-habituales"><i class="fas fa-link"></i></a>
</h3>

</div>
</div>
</div>
  <div class="chapter-nav">
<div class="prev"><a href="estructuras-de-control.html"><span class="header-section-number">4</span> Estructuras de control</a></div>
<div class="next"><a href="preprocesamiento-de-datos.html"><span class="header-section-number">6</span> Preprocesamiento de datos</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#funciones"><span class="header-section-number">5</span> Funciones</a></li>
<li><a class="nav-link" href="#definici%C3%B3n-y-llamada-a-funciones"><span class="header-section-number">5.1</span> Definición y llamada a funciones</a></li>
<li>
<a class="nav-link" href="#par%C3%A1metros-y-argumentos-de-una-funci%C3%B3n"><span class="header-section-number">5.2</span> Parámetros y argumentos de una función</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#paso-de-argumentos-a-una-funci%C3%B3n"><span class="header-section-number">5.2.1</span> Paso de argumentos a una función</a></li>
<li><a class="nav-link" href="#argumentos-por-defecto"><span class="header-section-number">5.2.2</span> Argumentos por defecto</a></li>
</ul>
</li>
<li><a class="nav-link" href="#retorno-de-una-funci%C3%B3n"><span class="header-section-number">5.3</span> Retorno de una función</a></li>
<li><a class="nav-link" href="#entorno-y-%C3%A1mbito-de-las-variables"><span class="header-section-number">5.4</span> Entorno y ámbito de las variables</a></li>
<li><a class="nav-link" href="#componentes-de-una-funci%C3%B3n"><span class="header-section-number">5.5</span> Componentes de una función</a></li>
<li><a class="nav-link" href="#funciones-recursivas"><span class="header-section-number">5.6</span> Funciones recursivas</a></li>
<li>
<a class="nav-link" href="#paquetes"><span class="header-section-number">5.7</span> Paquetes</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#instalaci%C3%B3n-de-paquetes"><span class="header-section-number">5.7.1</span> Instalación de paquetes</a></li>
<li><a class="nav-link" href="#carga-de-un-paquete"><span class="header-section-number">5.7.2</span> Carga de un paquete</a></li>
<li><a class="nav-link" href="#paquetes-habituales"><span class="header-section-number">5.7.3</span> Paquetes habituales</a></li>
</ul>
</li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
<li><a id="book-source" href="https://github.com/asalber/manual-r/blob/master/05-funciones.Rmd">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="https://github.com/asalber/manual-r/edit/master/05-funciones.Rmd">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>Curso básico de análisis de datos con R</strong>" was written by Alfredo Sánchez Alberca. It was last built on 2022-01-07.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>
</html>
